"use strict";(self.webpackChunkalphabuilder_site=self.webpackChunkalphabuilder_site||[]).push([[1042,2103],{4080:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});o(6540);var r=o(2874),a=o(6337),n=o(4848);function l(){return(0,n.jsx)(r.A,{title:"Vega Dashboard",description:"Interactive stock dashboard",children:(0,n.jsx)(a.default,{})})}},6337:(e,t,o)=>{o.r(t),o.d(t,{default:()=>l});var r=o(6540),a=o(8478),n=o(4848);const l=()=>(0,n.jsx)(a.A,{children:()=>{const{Line:e}=o(9766),{Chart:t,CategoryScale:a,LinearScale:l,PointElement:i,LineElement:s,Title:d,Tooltip:c,Legend:u}=o(8969),p=o(8189);t.register(a,l,i,s,d,c,u,p);const b=["AAPL","MSFT","GOOGL","AMZN","META","TSLA"],h=()=>{const e=getComputedStyle(document.documentElement);return{buttonColor:e.getPropertyValue("--ifm-button-color").trim(),hoverColor:e.getPropertyValue("--hover-color").trim()}},[g,x]=(0,r.useState)(h()),[m,v]=(0,r.useState)(b[0]),[C,y]=(0,r.useState)([]),[j,k]=(0,r.useState)(null),[f,w]=(0,r.useState)(null),[S,A]=(0,r.useState)(!1),[E,D]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async e=>{A(!0),D(null);try{const t=await fetch(`https://api.alphabuilder.xyz/dashboard/stock/${e}`);if(!t.ok)throw new Error("API Error");const o=await t.json(),r=o.dates.map((e,t)=>({date:new Date(e),close:o.close[t]}));y(r),k(new Date(r[0].date)),w(new Date(r[r.length-1].date))}catch(t){console.error(t),D("Failed to load data")}finally{A(!1)}})(m)},[m]),(0,r.useEffect)(()=>{const e=document.documentElement,t=()=>{x(h())},o=new MutationObserver(()=>{t()});o.observe(e,{attributes:!0,attributeFilter:["data-theme","data-accent"]});const r=()=>t();return window.addEventListener("colorChange",r),()=>{o.disconnect(),window.removeEventListener("colorChange",r)}},[]);const L=C.filter(e=>(!j||e.date>=j)&&(!f||e.date<=f)),T={labels:L.map(e=>e.date.toISOString().split("T")[0]),datasets:[{label:`${m} Close`,data:L.map(e=>e.close),borderColor:g.hoverColor,backgroundColor:"transparent",tension:.3,pointRadius:0,pointHoverRadius:5,pointHoverBackgroundColor:g.hoverColor,pointHoverBorderColor:g.hoverColor}]},I={responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top",labels:{color:g.buttonColor}},title:{display:!0,text:`${m} Closing Prices (Interactive)`,color:g.buttonColor},zoom:{zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},pan:{enabled:!0,mode:"x"}}},scales:{x:{title:{display:!0,text:"Date",color:g.buttonColor},ticks:{color:g.buttonColor},grid:{color:g.hoverColor+"33"}},y:{title:{display:!0,text:"Price ($)",color:g.buttonColor},ticks:{color:g.buttonColor},grid:{color:g.hoverColor+"33"}}},animation:{duration:400,easing:"easeInOutCubic"}};return(0,n.jsxs)("div",{style:{maxWidth:"1100px",margin:"3rem auto",padding:"2rem",borderRadius:"20px",background:"var(--ifm-background-color)",transition:"background 0.3s ease, color 0.3s ease"},children:[(0,n.jsx)("h1",{style:{textAlign:"center",marginBottom:"1.5rem",color:g.buttonColor,transition:"color 0.3s ease"},children:"Interactive Stock Dashboard"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"1.5rem",marginBottom:"1.5rem",flexWrap:"wrap",color:g.buttonColor,transition:"color 0.3s ease"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Ticker: "}),(0,n.jsx)("select",{value:m,onChange:e=>{v(e.target.value)},style:{padding:"0.4rem",borderRadius:"8px",border:`1px solid ${g.buttonColor}`,color:g.buttonColor,background:"transparent",transition:"all 0.3s ease"},children:b.map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]}),C.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"Start Date: "}),(0,n.jsx)("input",{type:"date",value:j?.toISOString().split("T")[0],onChange:e=>k(new Date(e.target.value)),style:{padding:"0.4rem",borderRadius:"8px",border:`1px solid ${g.buttonColor}`,color:g.buttonColor,background:"transparent",transition:"all 0.3s ease"}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{children:"End Date: "}),(0,n.jsx)("input",{type:"date",value:f?.toISOString().split("T")[0],onChange:e=>w(new Date(e.target.value)),style:{padding:"0.4rem",borderRadius:"8px",border:`1px solid ${g.buttonColor}`,color:g.buttonColor,background:"transparent",transition:"all 0.3s ease"}})]})]})]}),(0,n.jsx)("div",{style:{height:"500px",width:"100%",overflow:"hidden",borderRadius:"12px",background:"var(--background-color)",padding:"1rem",transition:"background 0.3s ease"},children:S?(0,n.jsx)("p",{style:{textAlign:"center",color:"var(--ifm-button-color)"},children:"Loading data..."}):E?(0,n.jsx)("p",{style:{textAlign:"center",color:"red"},children:E}):C.length>0?(0,n.jsx)(e,{data:T,options:I}):(0,n.jsx)("p",{style:{textAlign:"center"},children:"No data available"})})]})}})}}]);